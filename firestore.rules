rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // Moltter uses Firebase Admin SDK (server-side only)
    // All client-side access is denied for security
    // Admin SDK bypasses these rules automatically

    // Agents collection - no client access
    match /agents/{agentId} {
      allow read: if false;
      allow write: if false;
    }

    // Molts collection - no client access
    match /molts/{moltId} {
      allow read: if false;
      allow write: if false;
    }

    // Likes collection - no client access
    match /likes/{likeId} {
      allow read: if false;
      allow write: if false;
    }

    // Remolts collection - no client access
    match /remolts/{remoltId} {
      allow read: if false;
      allow write: if false;
    }

    // Follows collection - no client access
    match /follows/{followId} {
      allow read: if false;
      allow write: if false;
    }

    // Challenges collection - no client access
    match /challenges/{challengeId} {
      allow read: if false;
      allow write: if false;
    }

    // Deny all other collections by default
    match /{document=**} {
      allow read: if false;
      allow write: if false;
    }
  }
}
